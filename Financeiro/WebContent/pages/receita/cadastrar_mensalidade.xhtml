<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition
	template="/WEB-INF/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="conteudo">
		<h:form id="formulario">
		<p:panel header="Cadastro de Mensalidade" style="margin-bottom:10px; text-align: center;">
			<p:messages autoUpdate="true" closable="true" />
			<p:panelGrid columns="2" style="margin: 0 auto;text-align: left;">
				<h:outputLabel value="Nome do aluno:" />
				<p:row>
				    <p:autoComplete id="nome" value="#{receitaMensalidadeBean.mensalidade.matricula.aluno.nome}"  forceSelection="true"
				    completeMethod="#{receitaMensalidadeBean.buscarTodosAlunos}" title="Digite o nome e escolha uma opção!"
				    minQueryLength="3" scrollHeight="200" required="true" label="Nome do aluno" />
				    <p:tooltip for="nome" showEvent="focus" hideEvent="blur" />
			    </p:row>
			    <h:outputLabel value="Valor:" />
			    <p:inputText value="#{receitaMensalidadeBean.mensalidade.valor}" required="true" label="Valor" />
			    <h:outputLabel value="Mês:" />
			    <p:selectOneMenu value="#{receitaMensalidadeBean.mensalidade.mes}" required="true" label="Mês" style="width:233px;">
			    	  <f:selectItem itemLabel="Selecione" noSelectionOption="true" />
			    	  <f:selectItems value="#{receitaMensalidadeBean.meses}" var="mes" itemLabel="#{mes.descricao}" itemValue="#{mes}" />
			    </p:selectOneMenu>
			    <h:outputLabel value="Ano:" />
			    <p:inputText value="#{receitaMensalidadeBean.mensalidade.ano}" required="true" label="Ano" />
			    <h:outputLabel value="Descrição:" />
			    <p:inputTextarea value="#{receitaMensalidadeBean.mensalidade.descricao}" />
			    <p:commandButton value="Salvar" update=":formulario" icon="ui-icon-disk" action="#{receitaMensalidadeBean.cadastrar}" />
			    <p:commandButton value="Limpar" type="reset" />
		    </p:panelGrid>
	    </p:panel>
		</h:form>
    </ui:define>
    
</ui:composition>  